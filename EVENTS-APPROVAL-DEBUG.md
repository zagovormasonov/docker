# üîß –û—Ç–ª–∞–¥–∫–∞ –æ–¥–æ–±—Ä–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π

## üö® **–ü—Ä–æ–±–ª–µ–º–∞:**
–û–¥–æ–±—Ä–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π —Å–Ω–æ–≤–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –æ—à–∏–±–∫–∞ 500 –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ–¥–æ–±—Ä–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ —Å ID 9.

## üîç **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

### **1. –°–µ—Ä–≤–µ—Ä –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª—Å—è:**
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å
- –õ–æ–≥–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- Endpoints –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

### **2. –ü—Ä–æ–±–ª–µ–º–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:**
- –ü–æ–ª–µ `is_published` –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ç–∞–±–ª–∏—Ü—É `events`
- –û—à–∏–±–∫–∞ –≤ SQL –∑–∞–ø—Ä–æ—Å–µ
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞

### **3. –ü—Ä–æ–±–ª–µ–º–∞ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π:**
- –¢–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- Middleware –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üß™ **–ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**

### **1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π endpoint:**
```bash
curl -X POST "https://soulsynergy.ru/api/moderation/test-approve/9" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### **2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏:**
```bash
curl "https://soulsynergy.ru/api/moderation/check-fields"
```

### **3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Developer Tools:**
1. **–û—Ç–∫—Ä–æ–π—Ç–µ F12** ‚Üí –≤–∫–ª–∞–¥–∫–∞ Network
2. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–¥–æ–±—Ä–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ**
3. **–ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å** –∫ `/api/moderation/events/9/approve`
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Response** - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

## üîß **–í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**

### **1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
docker-compose restart backend
```

### **2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
```sql
SELECT column_name, data_type 
FROM information_schema.columns 
WHERE table_name = 'events' 
AND column_name IN ('moderation_status', 'is_published', 'moderated_by', 'moderated_at');
```

### **3. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ is_published:**
```sql
ALTER TABLE events 
ADD COLUMN IF NOT EXISTS is_published BOOLEAN DEFAULT false;
```

## üì± **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

### **–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏:**
```json
{
  "message": "–¢–µ—Å—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è",
  "debug": {
    "eventId": "9",
    "userId": 19,
    "event": {
      "id": 9,
      "title": "–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è",
      "organizer_id": 8
    },
    "timestamp": "2025-01-05T04:55:00.000Z"
  }
}
```

### **–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –æ–¥–æ–±—Ä–µ–Ω–∏–∏:**
```json
{
  "message": "–°–æ–±—ã—Ç–∏–µ –æ–¥–æ–±—Ä–µ–Ω–æ",
  "debug": {
    "eventId": "9",
    "userId": 19,
    "timestamp": "2025-01-05T04:55:00.000Z",
    "step": "success"
  }
}
```

## üöÄ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π endpoint** - —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –æ–Ω?
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏** - –µ—Å—Ç—å –ª–∏ –ø–æ–ª–µ `is_published`?
3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–¥–æ–±—Ä–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ** - –∫–∞–∫–∞—è –æ—à–∏–±–∫–∞?
4. **–°–æ–æ–±—â–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç** - —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

## üéØ **–°—Ç–∞—Ç—É—Å:**

- ‚ùå **–û–¥–æ–±—Ä–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π** - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–π endpoint** - –¥–æ–±–∞–≤–ª–µ–Ω
- ‚úÖ **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –¥–æ–±–∞–≤–ª–µ–Ω–∞
- üîß **–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –∏ –ë–î
