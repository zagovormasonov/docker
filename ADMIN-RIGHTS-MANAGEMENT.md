# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å –∏ –æ—Ç–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —É –ª—é–±–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å. –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** - –ª—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º  
‚úÖ **–û—Ç–∑—ã–≤ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** - –ø—Ä–∞–≤–∞ –º–æ–∂–Ω–æ –æ—Ç–æ–∑–≤–∞—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç  
‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–∞–º–æ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è** - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞  
‚úÖ **–ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥–∏  
‚úÖ **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π** - –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –ø—Ä–∞–≤  
‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ  

## –¢–∏–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –¶–≤–µ—Ç –º–µ—Ç–∫–∏ |
|-----|----------|------------|
| **client** | –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | üîµ –°–∏–Ω–∏–π |
| **expert** | –≠–∫—Å–ø–µ—Ä—Ç | üü¢ –ó–µ–ª—ë–Ω—ã–π |
| **admin** | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä | üî¥ –ö—Ä–∞—Å–Ω—ã–π |

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ù–∞–∑–Ω–∞—á–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

1. –í–æ–π–¥–∏—Ç–µ –≤ **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"**
3. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"üîë –°–¥–µ–ª–∞—Ç—å –∞–¥–º–∏–Ω–æ–º"** (—Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞)
5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### 2. –û—Ç–æ–∑–≤–∞—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

1. –í–æ–π–¥–∏—Ç–µ –≤ **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"**
3. –ù–∞–π–¥–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–º–µ—Ç–∫–∞ "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä" –∫—Ä–∞—Å–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞)
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"üîì –û—Ç–æ–∑–≤–∞—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∞"** (–∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ç–∞–Ω–µ—Ç —ç–∫—Å–ø–µ—Ä—Ç–æ–º (–∏–ª–∏ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç–æ–º)

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–∞–≤

### –ü—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º:

1. ‚úÖ –¢–∏–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `admin`
2. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
3. ‚úÖ –î–µ–π—Å—Ç–≤–∏–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å –¥–µ—Ç–∞–ª—è–º–∏:
   - –ö—Ç–æ –Ω–∞–∑–Ω–∞—á–∏–ª
   - –ö–æ–≥–æ –Ω–∞–∑–Ω–∞—á–∏–ª–∏
   - –°—Ç–∞—Ä—ã–π —Ç–∏–ø ‚Üí –ù–æ–≤—ã–π —Ç–∏–ø
   - IP-–∞–¥—Ä–µ—Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - –í—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏—è
4. ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### –ü—Ä–∏ –æ—Ç–∑—ã–≤–µ –ø—Ä–∞–≤:

1. ‚úÖ –¢–∏–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–µ–Ω—è–µ—Ç—Å—è —Å `admin` –Ω–∞ `expert` (–∏–ª–∏ –æ—Å—Ç–∞—ë—Ç—Å—è `client`)
2. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
3. ‚úÖ –î–µ–π—Å—Ç–≤–∏–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å –¥–µ—Ç–∞–ª—è–º–∏
4. ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## API Endpoint

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**URL:** `PUT /api/admin/users/:id/admin-rights`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è + –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` (–≤ URL) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `grantAdmin` (–≤ body) - `true` –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, `false` –¥–ª—è –æ—Ç–∑—ã–≤–∞

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

```javascript
// –ù–∞–∑–Ω–∞—á–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
axios.put('/admin/users/123/admin-rights', {
  grantAdmin: true
});

// –û—Ç–æ–∑–≤–∞—Ç—å –ø—Ä–∞–≤–∞
axios.put('/admin/users/123/admin-rights', {
  grantAdmin: false
});
```

**–û—Ç–≤–µ—Ç –ø—Ä–∏ —É—Å–ø–µ—Ö–µ:**

```json
{
  "success": true,
  "message": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ –Ω–∞–∑–Ω–∞—á–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º",
  "user": {
    "id": 123,
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "email": "ivan@example.com",
    "userType": "admin"
  }
}
```

**–û—Ç–≤–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ:**

```json
{
  "success": false,
  "message": "–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"
}
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `admin_logs`:

```sql
SELECT * FROM admin_logs 
WHERE entity_type = 'user' 
  AND (details->>'action' = 'grant_admin' OR details->>'action' = 'revoke_admin')
ORDER BY created_at DESC;
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥–∞—Ö:**

```json
{
  "id": 156,
  "admin_id": 5,
  "admin_name": "–ì–ª–∞–≤–Ω—ã–π –ê–¥–º–∏–Ω",
  "action_type": "update",
  "entity_type": "user",
  "entity_id": 123,
  "entity_title": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "details": {
    "action": "grant_admin",
    "old_type": "expert",
    "new_type": "admin",
    "email": "ivan@example.com"
  },
  "ip_address": "192.168.1.1",
  "created_at": "2025-11-10T16:00:00Z"
}
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π:

1. ‚úÖ **–ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ –ø—Ä–∞–≤–∞** - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–µ –º–æ–∂–µ—Ç –æ—Ç–æ–∑–≤–∞—Ç—å –∏–ª–∏ –≤—ã–¥–∞—Ç—å —Å–µ–±–µ –ø—Ä–∞–≤–∞ –∑–∞–Ω–æ–≤–æ
2. ‚úÖ **–¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤** - endpoint –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å —Ç–∏–ø–æ–º `admin`
3. ‚úÖ **–ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å IP-–∞–¥—Ä–µ—Å–æ–º
4. ‚úÖ **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è** - —Ç—Ä–µ–±—É–µ—Ç—Å—è —è–≤–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤ UI

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

- üîí –ù–∞–∑–Ω–∞—á–∞–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üëÄ –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π
- üìä –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (–Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ)
- üö® –ü—Ä–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∑—ã–≤–∞–π—Ç–µ –ø—Ä–∞–≤–∞

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–í –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:

- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã:** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∞ (–∫—Ä–∞—Å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞)
- **–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** —Å—É–º–º–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ö–æ–ª–æ–Ω–∫–∏:
- **ID** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- **–ò–º—è** - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Email** - –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã
- **–¢–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞** - –º–µ—Ç–∫–∞ —Å —Ç–∏–ø–æ–º (–ö–ª–∏–µ–Ω—Ç/–≠–∫—Å–ø–µ—Ä—Ç/–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
- **–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** - –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è
- **–î–µ–π—Å—Ç–≤–∏—è** - –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π:

–î–ª—è **–Ω–µ-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤**:
- "–ù–∞–∑–Ω–∞—á–∏—Ç—å —ç–∫—Å–ø–µ—Ä—Ç–æ–º" / "–õ–∏—à–∏—Ç—å —Å—Ç–∞—Ç—É—Å–∞" (—Å–µ—Ä–∞—è/—Å–∏–Ω—è—è)
- "üîë –°–¥–µ–ª–∞—Ç—å –∞–¥–º–∏–Ω–æ–º" (—Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è)

–î–ª—è **–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤**:
- "üîì –û—Ç–æ–∑–≤–∞—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∞" (–∫—Ä–∞—Å–Ω–∞—è)

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend

**`backend/src/routes/admin-users.ts`**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω endpoint `PUT /:id/admin-rights`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∞–º–æ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∞–≤

### Frontend

**`frontend/src/pages/AdminPanel.tsx`**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleToggleAdminRights()`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–æ–±–∞–≤–ª–µ–Ω admin)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∞–º–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (Popconfirm)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–ª–æ–Ω–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

```
–®–∞–≥–∏:
1. –ê–¥–º–∏–Ω –∑–∞—Ö–æ–¥–∏—Ç –≤ –ø–∞–Ω–µ–ª—å
2. –í–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" (–≠–∫—Å–ø–µ—Ä—Ç)
3. –ù–∞–∂–∏–º–∞–µ—Ç "üîë –°–¥–µ–ª–∞—Ç—å –∞–¥–º–∏–Ω–æ–º"
4. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ –ø–æ–ª—É—á–∏—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø"
5. –ù–∞–∂–∏–º–∞–µ—Ç "–î–∞, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é"

–†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –ò–≤–∞–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
‚úÖ –ú–µ—Ç–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä" (–∫—Ä–∞—Å–Ω–∞—è)
‚úÖ –í –ª–æ–≥–∞—Ö –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è: +1 –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û—Ç–∑—ã–≤ –ø—Ä–∞–≤ —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

```
–®–∞–≥–∏:
1. –ê–¥–º–∏–Ω –∑–∞—Ö–æ–¥–∏—Ç –≤ –ø–∞–Ω–µ–ª—å
2. –í–∏–¥–∏—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ "–ü—ë—Ç—Ä –ü–µ—Ç—Ä–æ–≤"
3. –ù–∞–∂–∏–º–∞–µ—Ç "üîì –û—Ç–æ–∑–≤–∞—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∞"
4. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ü—ë—Ç—Ä –ü–µ—Ç—Ä–æ–≤ –±–æ–ª—å—à–µ –Ω–µ —Å–º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–∏—Å—Ç–µ–º–æ–π"
5. –ù–∞–∂–∏–º–∞–µ—Ç "–î–∞, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é"

–†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –ü—ë—Ç—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —ç–∫—Å–ø–µ—Ä—Ç–æ–º
‚úÖ –ú–µ—Ç–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "–≠–∫—Å–ø–µ—Ä—Ç" (–∑–µ–ª—ë–Ω–∞—è)
‚úÖ –í –ª–æ–≥–∞—Ö –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –æ–± –æ—Ç–∑—ã–≤–µ
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è: -1 –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
```

## Troubleshooting

### –ö–Ω–æ–ø–∫–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –≤–∏–∂—É –∫–Ω–æ–ø–∫—É "–°–¥–µ–ª–∞—Ç—å –∞–¥–º–∏–Ω–æ–º"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã –≤–æ—à–ª–∏ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
2. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+F5)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞ "–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞"

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—ã—Ç–∞—é—Å—å –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ –ø—Ä–∞–≤–∞

**–†–µ—à–µ–Ω–∏–µ:** –≠—Ç–æ –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å–∞–º–æ–æ—Ç–∑—ã–≤–∞ –ø—Ä–∞–≤. –ü–æ–ø—Ä–æ—Å–∏—Ç–µ –¥—Ä—É–≥–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏–∑–º–µ–Ω–∏—Ç—å –≤–∞—à–∏ –ø—Ä–∞–≤–∞.

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞–∂–∞–ª –∫–Ω–æ–ø–∫—É, –Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞—Ä—Ç–æ—á–∫–∞ "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã" –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ frontend –æ–±–Ω–æ–≤–ª—ë–Ω
3. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞

## SQL-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

```sql
SELECT id, name, email, user_type, created_at
FROM users
WHERE user_type = 'admin'
ORDER BY created_at DESC;
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤

```sql
SELECT 
  al.created_at,
  al.admin_name as "–ö—Ç–æ –∏–∑–º–µ–Ω–∏–ª",
  al.entity_title as "–ö–æ–≥–æ –∏–∑–º–µ–Ω–∏–ª–∏",
  al.details->>'action' as "–î–µ–π—Å—Ç–≤–∏–µ",
  al.details->>'old_type' as "–ë—ã–ª–æ",
  al.details->>'new_type' as "–°—Ç–∞–ª–æ"
FROM admin_logs al
WHERE al.entity_type = 'user'
  AND (al.details->>'action' = 'grant_admin' OR al.details->>'action' = 'revoke_admin')
ORDER BY al.created_at DESC
LIMIT 20;
```

### –í—Ä—É—á–Ω—É—é –Ω–∞–∑–Ω–∞—á–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

```sql
UPDATE users 
SET user_type = 'admin', updated_at = CURRENT_TIMESTAMP
WHERE email = 'user@example.com';
```

### –í—Ä—É—á–Ω—É—é –æ—Ç–æ–∑–≤–∞—Ç—å –ø—Ä–∞–≤–∞

```sql
UPDATE users 
SET user_type = 'expert', updated_at = CURRENT_TIMESTAMP
WHERE id = 123;
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend (`npm run dev`)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (üìä –õ–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 10 –Ω–æ—è–±—Ä—è 2025  
**–ê–≤—Ç–æ—Ä:** System Administrator

