# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å—Ç–∞—Ç–µ–π: –ß–µ—Ä–Ω–æ–≤–∏–∫–∏ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–¢–µ–ø–µ—Ä—å —Å—Ç–∞—Ç—å–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ –Ω–æ–≤–æ–π —Å—Ö–µ–º–µ:

1. **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏** - —Å—Ç–∞—Ç—å—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫ (–ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é)
2. **–ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏** - —Å—Ç–∞—Ç—å—è –æ—Å—Ç–∞—ë—Ç—Å—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–º (–ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é)
3. **–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å"** - —Å—Ç–∞—Ç—å—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é –≤ –∞–¥–º–∏–Ω–∫—É

## –°—Ç–∞—Ç—É—Å—ã —Å—Ç–∞—Ç–µ–π

- üü† **–ß–µ—Ä–Ω–æ–≤–∏–∫ (draft)** - —Å—Ç–∞—Ç—å—è –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞, –≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä—É
- üîµ **–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (pending)** - —Å—Ç–∞—Ç—å—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- üü¢ **–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ (approved)** - —Å—Ç–∞—Ç—å—è –æ–¥–æ–±—Ä–µ–Ω–∞ –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞
- üî¥ **–û—Ç–∫–ª–æ–Ω–µ–Ω–æ (rejected)** - —Å—Ç–∞—Ç—å—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç–∞—Ç–µ–π:

```bash
psql -U your_username -d your_database -f ADD-DRAFT-STATUS.sql
```

–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –≤ pgAdmin/psql:

```sql
-- –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–µ–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –Ω–∞ —Å—Ç–∞—Ç—É—Å 'draft'
UPDATE articles 
SET moderation_status = 'draft' 
WHERE is_published = false 
  AND (moderation_status IS NULL OR moderation_status = 'pending');

-- –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –Ω–∞ —Å—Ç–∞—Ç—É—Å 'approved'
UPDATE articles 
SET moderation_status = 'approved' 
WHERE is_published = true 
  AND moderation_status IS NULL;
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫–µ–Ω–¥

```bash
cd backend
npm run dev
```

### 3. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

```bash
cd frontend
npm run build
```

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend
- `backend/src/routes/articles.ts` - –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π

### Frontend
- `frontend/src/pages/CreateArticlePage.tsx` - —É–¥–∞–ª—ë–Ω –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å—Ä–∞–∑—É"
- `frontend/src/pages/MyArticlesPage.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å" –¥–ª—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤
- `frontend/src/pages/ArchivedArticlesPage.tsx` - –æ–±–Ω–æ–≤–ª—ë–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Article

### SQL
- `ADD-DRAFT-STATUS.sql` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–ª—è –∞–≤—Ç–æ—Ä–æ–≤ (—ç–∫—Å–ø–µ—Ä—Ç–æ–≤)

1. –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç–∞—Ç—å—é - –æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫
2. –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å—Ç–∞—Ç—å—é —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ - –æ–Ω–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–º
3. –ö–æ–≥–¥–∞ —Å—Ç–∞—Ç—å—è –≥–æ—Ç–æ–≤–∞ - –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å"** –≤ —Å–ø–∏—Å–∫–µ —Å—Ç–∞—Ç–µ–π
4. –°—Ç–∞—Ç—å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
5. –ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —Å—Ç–∞—Ç—å—è –±—É–¥–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

1. –ü–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ —á–∞—Ç–µ –æ –Ω–æ–≤–æ–π —Å—Ç–∞—Ç—å–µ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ú–æ–¥–µ—Ä–∞—Ü–∏—è"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—å—é
4. –û–¥–æ–±—Ä–∏—Ç–µ –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–∏—Ç–µ –µ—ë
5. –ê–≤—Ç–æ—Ä –ø–æ–ª—É—á–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ —á–∞—Ç–µ

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–π endpoint

**POST** `/articles/:id/publish` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—å—é –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –Ω–µ—Ç

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 123,
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏",
  "moderation_status": "pending",
  "is_published": false,
  "message": "–°—Ç–∞—Ç—å—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é..."
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö endpoints

- **POST** `/articles` - —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞—ë—Ç —Å—Ç–∞—Ç—å—é —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `draft` –≤–º–µ—Å—Ç–æ `pending`
- **PUT** `/articles/:id` - —Ç–µ–ø–µ—Ä—å –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –∏ –ù–ï –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ `pending`

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ß–µ—Ä–Ω–æ–≤–∏–∫–∏ –ù–ï –≤–∏–¥–Ω—ã –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –ß–µ—Ä–Ω–æ–≤–∏–∫–∏ –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –æ–±—â–µ–º —Å–ø–∏—Å–∫–µ —Å—Ç–∞—Ç–µ–π
- –ß–µ—Ä–Ω–æ–≤–∏–∫–∏ –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑
- –ü–æ—Å–ª–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —Å—Ç–∞—Ç—å—é –º–æ–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–Ω–æ–≤–∞

