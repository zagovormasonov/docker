# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

## ‚úÖ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. ‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—Ç–µ—á–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫
- –ú–µ—Å—è—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ **30 –¥–Ω–µ–π** –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
- –ì–æ–¥–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ **365 –¥–Ω–µ–π** –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–Ω—è—Ç–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —ç–∫—Å–ø–µ—Ä—Ç–∞
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### 2. üìå –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ 3 —Å—Ç–∞—Ç–µ–π –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –∑–∞–∫—Ä–µ–ø–∏—Ç—å –¥–æ **3 —Å—Ç–∞—Ç–µ–π** –≤–≤–µ—Ä—Ö—É —Å–ø–∏—Å–∫–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–æ–º —Å—Ç–∞—Ç–µ–π (1, 2, 3)
- API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º

---

## üéØ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å (3 —à–∞–≥–∞)

### –®–∞–≥ 1: –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ PostgreSQL
psql -U postgres -d your_database_name

# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
\i ADD-SUBSCRIPTION-EXPIRATION.sql
\i ADD-PINNED-ARTICLES.sql
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ docker:**
```bash
docker cp ADD-SUBSCRIPTION-EXPIRATION.sql synergy-postgres:/tmp/
docker cp ADD-PINNED-ARTICLES.sql synergy-postgres:/tmp/
docker exec -it synergy-postgres psql -U postgres -d synergy -f /tmp/ADD-SUBSCRIPTION-EXPIRATION.sql
docker exec -it synergy-postgres psql -U postgres -d synergy -f /tmp/ADD-PINNED-ARTICLES.sql
```

### –®–∞–≥ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

```bash
docker-compose restart backend
```

**–ò–ª–∏ –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞:**
```bash
docker-compose down
docker-compose up -d --build
```

### –®–∞–≥ 3: –ì–æ—Ç–æ–≤–æ! ‚úÖ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:
- –ù–æ–≤—ã–µ –ø–ª–∞—Ç–µ–∂–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç —Å—Ä–æ–∫ –ø–æ–¥–ø–∏—Å–∫–∏
- –ò—Å—Ç–µ–∫—à–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –∑–∞–∫—Ä–µ–ø–ª—è—Ç—å —Å—Ç–∞—Ç—å–∏ —á–µ—Ä–µ–∑ API

---

## üìñ –û—Å–Ω–æ–≤–Ω—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ü–æ–¥–ø–∏—Å–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ—é –ø–æ–¥–ø–∏—Å–∫—É (–ª—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
GET /api/subscriptions/my-subscription

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç–µ–∫—à–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
POST /api/subscriptions/check-expired

# –°–ø–∏—Å–æ–∫ –∏—Å—Ç–µ–∫–∞—é—â–∏—Ö –ø–æ–¥–ø–∏—Å–æ–∫ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
GET /api/subscriptions/expiring?days=7
```

### –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏

```bash
# –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ (–≤—Å–µ)
GET /api/admin/pinned-articles

# –ó–∞–∫—Ä–µ–ø–∏—Ç—å —Å—Ç–∞—Ç—å—é (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
POST /api/admin/pinned-articles/{articleId}/pin

# –û—Ç–∫—Ä–µ–ø–∏—Ç—å —Å—Ç–∞—Ç—å—é (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
POST /api/admin/pinned-articles/{articleId}/unpin

# –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
PUT /api/admin/pinned-articles/{articleId}/reorder
```

---

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –ü–æ–¥–ø–∏—Å–∫–∏

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂** (–º–µ—Å—è—á–Ω—ã–π)
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ä–æ–∫ –ø–æ–¥–ø–∏—Å–∫–∏:**
   ```bash
   curl -H "Authorization: Bearer YOUR_TOKEN" \
        http://localhost:5000/api/subscriptions/my-subscription
   ```
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–≤–∏–¥–∏—Ç–µ `subscription_expires_at` —á–µ—Ä–µ–∑ 30 –¥–Ω–µ–π

### –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏

1. **–í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω**
2. **–ó–∞–∫—Ä–µ–ø–∏—Ç–µ —Å—Ç–∞—Ç—å—é:**
   ```bash
   curl -X POST \
        -H "Authorization: Bearer ADMIN_TOKEN" \
        http://localhost:5000/api/admin/pinned-articles/5/pin
   ```
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É** - –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–≤–µ—Ä—Ö—É

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

### –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ `users`:
- `subscription_expires_at` - –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
- `subscription_plan` - —Ç–∏–ø –ø–æ–¥–ø–∏—Å–∫–∏ (monthly/yearly)
- `last_payment_date` - –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–ª–∞—Ç–µ–∂–∞

### –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ `articles`:
- `is_pinned` - –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∞ –ª–∏ —Å—Ç–∞—Ç—å—è
- `pin_order` - –ø–æ—Ä—è–¥–æ–∫ (1, 2, 3)
- `pinned_at` - –¥–∞—Ç–∞ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è
- `pinned_by` - ID –∞–¥–º–∏–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–∫—Ä–µ–ø–∏–ª

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —ç–∫—Å–ø–µ—Ä—Ç—ã** –ø–æ–ª—É—á–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–æ–¥–æ–≤—É—é –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ 1 –≥–æ–¥ –≤–ø–µ—Ä–µ–¥
2. **–ú–∞–∫—Å–∏–º—É–º 3 –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏** - —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
4. **–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã** –º–æ–≥—É—Ç –∑–∞–∫—Ä–µ–ø–ª—è—Ç—å —Å—Ç–∞—Ç—å–∏

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—Ç–µ—á–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫
- ‚úÖ –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –Ω–∞ –≥–ª–∞–≤–Ω–æ–π

**–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** —Å–º. `–ò–ù–°–¢–†–£–ö–¶–ò–Ø-–ü–û–î–ü–ò–°–ö–ò-–ò-–ó–ê–ö–†–ï–ü–õ–ï–ù–ò–ï.md`

---

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   docker logs synergy-backend
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ë–î:**
   ```sql
   -- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–µ–π –ø–æ–¥–ø–∏—Å–∫–∏
   SELECT id, email, user_type, subscription_plan, subscription_expires_at 
   FROM users WHERE user_type = 'expert';
   
   -- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
   SELECT id, title, is_pinned, pin_order 
   FROM articles WHERE is_pinned = true;
   ```

3. **–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏** –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç


