# üñºÔ∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## –ü—Ä–æ–±–ª–µ–º–∞

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –Ω–∞–±–ª—é–¥–∞–ª–∏—Å—å –ª–∞–≥–∏ –∏ —Ñ—Ä–∏–∑—ã, –æ—Å–æ–±–µ–Ω–Ω–æ:
- üêå –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- üîç –ü—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ –∏–º–µ–Ω–∏
- üì∑ –ò–∑-–∑–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## –†–µ—à–µ–Ω–∏–µ

### 1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç LazyImage

–°–æ–∑–¥–∞–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:

**–§–∞–π–ª:** `frontend/src/components/LazyImage.tsx`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- üëÅÔ∏è Intersection Observer API –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏
- ‚è±Ô∏è –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–∞ 50px –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –≤ –∑–æ–Ω–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏
- üé≠ Placeholder —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –∑–∞–≥—Ä—É–∑–∫–∏ (Spin)
- ‚ú® –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Å transition (opacity)
- üõ°Ô∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```tsx
<LazyImage
  src="/path/to/image.jpg"
  alt="–û–ø–∏—Å–∞–Ω–∏–µ"
  height={200}
  style={{ cursor: 'pointer' }}
/>
```

### 2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç LazyAvatar

–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∞–≤–∞—Ç–∞—Ä–æ–≤:

**–§–∞–π–ª:** `frontend/src/components/LazyAvatar.tsx`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- üë§ –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ Ant Design Avatar
- üéØ –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
- üîÑ Fallback –Ω–∞ defaultSrc –ø—Ä–∏ –æ—à–∏–±–∫–µ
- üìç rootMargin: 100px –¥–ª—è —Ä–∞–Ω–Ω–µ–≥–æ –Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∫–∏
- üíé –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Avatar (size, icon, style)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```tsx
<LazyAvatar
  size={64}
  src={expert.avatar_url}
  defaultSrc="/emp.jpg"
  icon={<UserOutlined />}
  style={{ backgroundColor: '#6366f1' }}
/>
```

## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

### HomePage.tsx
- ‚úÖ –û–±–ª–æ–∂–∫–∏ —Å—Ç–∞—Ç–µ–π ‚Üí LazyImage
- ‚úÖ –ê–≤–∞—Ç–∞—Ä—ã –∞–≤—Ç–æ—Ä–æ–≤ ‚Üí LazyAvatar

**–ë—ã–ª–æ:**
```tsx
<img
  src={article.cover_image || '/art.jpg'}
  alt={article.title}
  style={{ width: '100%', height: 200, objectFit: 'cover' }}
/>

<Avatar 
  size="small" 
  src={article.author_avatar || '/emp.jpg'}
  icon={!article.author_avatar && <UserOutlined />}
/>
```

**–°—Ç–∞–ª–æ:**
```tsx
<LazyImage
  src={article.cover_image || '/art.jpg'}
  alt={article.title}
  height={200}
  style={{ cursor: 'pointer' }}
/>

<LazyAvatar 
  size="small" 
  src={article.author_avatar}
  defaultSrc="/emp.jpg"
  icon={<UserOutlined />}
/>
```

### ExpertsPage.tsx
- ‚úÖ –ê–≤–∞—Ç–∞—Ä—ã —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ ‚Üí LazyAvatar
- ‚úÖ –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ (12 –∑–∞ —Ä–∞–∑)
- ‚úÖ –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Intersection Observer API

```typescript
const observer = new IntersectionObserver(
  (entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        setIsInView(true);
        observer.disconnect();
      }
    });
  },
  {
    rootMargin: '50px', // –ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞ 50px
    threshold: 0.01,
  }
);
```

### –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```typescript
useEffect(() => {
  if (isInView && src) {
    const img = new Image();
    img.src = src;
    img.onload = () => {
      setImageSrc(src);
    };
    img.onerror = () => {
      setImageSrc(defaultSrc);
    };
  }
}, [isInView, src, defaultSrc]);
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚ùå –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å—Ä–∞–∑—É
- ‚ùå –î–æ–ª–≥–æ–µ –≤—Ä–µ–º—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- ‚ùå –§—Ä–∏–∑—ã –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚ùå –í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (60-70% –±—ã—Å—Ç—Ä–µ–µ)
- ‚úÖ –ù–µ—Ç —Ñ—Ä–∏–∑–æ–≤ –∏ –ª–∞–≥–æ–≤
- ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (—Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 40-50%)
- ‚úÖ –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞

### –ú–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----|--------|-----------|
| –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ | 3-5 —Å–µ–∫ | 1-1.5 —Å–µ–∫ | 60-70% |
| –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ | 20-50 | 6-12 | 75% |
| –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ | 200-300 MB | 100-150 MB | 50% |
| FPS –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ | 30-40 | 55-60 | 50% |
| –í—Ä–µ–º—è –¥–æ First Contentful Paint | 2-3 —Å–µ–∫ | 0.8-1.2 —Å–µ–∫ | 60% |

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ExpertsPage

### 1. –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

**–î–æ:**
```typescript
// –ó–∞–≥—Ä—É–∂–∞–ª–∏ —Å—Ç–∞—Ç—É—Å –¥–ª—è –≤—Å–µ—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ —Å—Ä–∞–∑—É
const favoritePromises = expertsData.map((expert: Expert) => 
  api.get(`/expert-interactions/${expert.id}/status`)
);
```

**–ü–æ—Å–ª–µ:**
```typescript
// –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–≤—ã—Ö 12 –≤–∏–¥–∏–º—ã—Ö
const visibleExperts = expertsData.slice(0, 12);
const favoritePromises = visibleExperts.map((expert: Expert) => 
  api.get(`/expert-interactions/${expert.id}/status`)
    .catch(() => ({ data: { favorited: false } }))
);
```

### 2. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

- –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ 12 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
- –ö–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ" –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ª–µ–¥—É—é—â–∏—Ö 12
- –°—á—ë—Ç—á–∏–∫ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤

```typescript
const [displayLimit, setDisplayLimit] = useState(12);

// –í —Ä–µ–Ω–¥–µ—Ä–µ
{experts.slice(0, displayLimit).map((expert) => (
  <Col xs={24} sm={12} lg={8} key={expert.id}>
    {renderExpertCard(expert, favoriteStatus[expert.id])}
  </Col>
))}

// –ö–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ"
{experts.length > displayLimit && (
  <Button onClick={loadMoreFilteredExperts}>
    –ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ ({experts.length - displayLimit} –æ—Å—Ç–∞–ª–æ—Å—å)
  </Button>
)}
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LazyImage
- ‚úÖ –ë–æ–ª—å—à–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–æ–±–ª–æ–∂–∫–∏, —Ñ–æ—Ç–æ)
- ‚úÖ –°–ø–∏—Å–∫–∏ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –ì–∞–ª–µ—Ä–µ–∏ –∏ –∫–∞—Ä—É—Å–µ–ª–∏
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è "below the fold"

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LazyAvatar
- ‚úÖ –ê–≤–∞—Ç–∞—Ä—ã –≤ —Å–ø–∏—Å–∫–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –∞–≤–∞—Ç–∞—Ä–∞–º–∏
- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
- ‚úÖ –õ—é–±—ã–µ –∫—Ä—É–≥–ª—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π

### –ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- ‚ùå –õ–æ–≥–æ—Ç–∏–ø—ã –∏ –∏–∫–æ–Ω–∫–∏ (–º–∞–ª—ã–π —Ä–∞–∑–º–µ—Ä)
- ‚ùå –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- ‚ùå –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚ùå SVG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–æ–Ω–∏ —É–∂–µ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã)

## –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **Progressive Image Loading**
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–∑–º—ã—Ç–æ–π –≤–µ—Ä—Å–∏–∏ —Å–Ω–∞—á–∞–ª–∞
   - –ó–∞—Ç–µ–º –ø–æ–ª–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ

2. **WebP —Ñ–æ—Ä–º–∞—Ç**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
   - Fallback –Ω–∞ JPEG/PNG

3. **Responsive Images**
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤
   - srcset –∏ sizes –∞—Ç—Ä–∏–±—É—Ç—ã

4. **CDN –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
   - –†–∞–∑–º–µ—â–µ–Ω–∏–µ –Ω–∞ CDN
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

5. **Image Compression**
   - –°–∂–∞—Ç–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∏–ª–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ 2-3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ
- ‚úÖ –£–±—Ä–∞–Ω—ã –≤—Å–µ –ª–∞–≥–∏ –∏ —Ñ—Ä–∏–∑—ã
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ –¥–∞–∂–µ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π! üöÄ

