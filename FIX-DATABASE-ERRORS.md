# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞ `column e.author_id does not exist` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö `articles` –∏ `events` –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–ª–æ–Ω–∫–∏.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç

```bash
# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–∫—Ä–∏–ø—Ç
psql -d synergy_db -f FIX-ALL-TABLES.sql
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü:

```sql
-- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É articles
SELECT column_name, data_type, is_nullable 
FROM information_schema.columns 
WHERE table_name = 'articles' 
ORDER BY ordinal_position;

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É events  
SELECT column_name, data_type, is_nullable 
FROM information_schema.columns 
WHERE table_name = 'events' 
ORDER BY ordinal_position;
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend —Å–µ—Ä–≤–µ—Ä.

## üìã –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∫—Ä–∏–ø—Ç

### üîß **–î–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏:**

#### **articles:**
- `author_id` - ID –∞–≤—Ç–æ—Ä–∞ —Å—Ç–∞—Ç—å–∏
- `is_published` - —Å—Ç–∞—Ç—É—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### **events:**
- `author_id` - ID –∞–≤—Ç–æ—Ä–∞ —Å–æ–±—ã—Ç–∏—è
- `is_published` - —Å—Ç–∞—Ç—É—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏  
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### **notifications:**
- –°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª–Ω–æ—Å—Ç—å—é

### üîó **–î–æ–±–∞–≤–ª—è–µ—Ç —Å–≤—è–∑–∏:**
- –í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ `author_id` ‚Üí `users(id)`
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è `updated_at`

### ‚ö†Ô∏è **–í–∞–∂–Ω–æ:**

–°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `author_id = 1` –¥–ª—è –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π. 
**–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID = 1 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ `users`!**

–ï—Å–ª–∏ —É –≤–∞—Å –¥—Ä—É–≥–æ–π ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –∏–∑–º–µ–Ω–∏—Ç–µ –≤ —Å–∫—Ä–∏–ø—Ç–µ:
```sql
UPDATE articles SET author_id = –í–ê–®_ID WHERE author_id IS NULL;
UPDATE events SET author_id = –í–ê–®_ID WHERE author_id IS NULL;
```

## üöÄ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–ê–¥–º–∏–Ω—Å–∫–∞—è –ø–∞–Ω–µ–ª—å** –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
2. **–°—Ç–∞—Ç—å–∏ –∏ —Å–æ–±—ã—Ç–∏—è** –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö
3. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ** –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
4. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

–í –ª–æ–≥–∞—Ö backend –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:
```
üîç –ó–∞–ø—Ä–æ—Å —Å—Ç–∞—Ç–µ–π –¥–ª—è –∞–¥–º–∏–Ω–∞
üìä –¢–∞–±–ª–∏—Ü–∞ articles —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: true
‚úÖ –°—Ç–∞—Ç—å–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã: X

üîç –ó–∞–ø—Ä–æ—Å —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∞–¥–º–∏–Ω–∞
üìä –¢–∞–±–ª–∏—Ü–∞ events —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: true  
‚úÖ –°–æ–±—ã—Ç–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã: X
```

–ï—Å–ª–∏ –æ—à–∏–±–∫–∏ –æ—Å—Ç–∞—é—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. **–°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** —Å ID = 1
3. **–õ–æ–≥–∏ backend** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
