# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π

## ‚úÖ **–û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞:**

### **–ü—Ä–æ–±–ª–µ–º–∞:**
```
error TS2448: Block-scoped variable 'requireAdmin' used before its declaration.
```

### **–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ **–ü–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ** `requireAdmin` –≤—ã—à–µ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ **–î–æ–±–∞–≤–∏–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–π endpoint** `/test-reject/:id` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ **–î–æ–±–∞–≤–∏–ª–∏ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π

## üîß **–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:**

### **1. –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è:**
```typescript
console.log('üö´ –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–∫–ª–æ–Ω–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ:', {
  eventId: id,
  reason: reason,
  userId: req.userId,
  body: req.body
});
```

### **2. –¢–µ—Å—Ç–æ–≤—ã–π endpoint:**
```typescript
router.post('/test-reject/:id', authenticateToken, requireAdmin, async (req: AuthRequest, res) => {
  // –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
});
```

### **3. –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –æ—Ç–≤–µ—Ç–∞—Ö:**
```typescript
res.json({ 
  message: '–°–æ–±—ã—Ç–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ',
  debug: {
    eventId: id,
    userId: req.userId,
    reason: reason,
    timestamp: new Date().toISOString()
  }
});
```

## üß™ **–ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ:**

### **1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫–ª–æ–Ω–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ:**
1. **–í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä**
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ú–æ–¥–µ—Ä–∞—Ü–∏—è" ‚Üí "–°–æ–±—ã—Ç–∏—è"**
3. **–ù–∞–∂–º–∏—Ç–µ "–û—Ç–∫–ª–æ–Ω–∏—Ç—å"** –Ω–∞ –ª—é–±–æ–º —Å–æ–±—ã—Ç–∏–∏
4. **–í–≤–µ–¥–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è**
5. **–ù–∞–∂–º–∏—Ç–µ "–û—Ç–∫–ª–æ–Ω–∏—Ç—å"**

### **2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Developer Tools:**
1. **–û—Ç–∫—Ä–æ–π—Ç–µ F12** ‚Üí –≤–∫–ª–∞–¥–∫–∞ Network
2. **–ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å** –∫ `/api/moderation/events/{id}/reject`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Response** - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### **3. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "message": "–°–æ–±—ã—Ç–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ",
  "debug": {
    "eventId": "3",
    "userId": 19,
    "reason": "–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è",
    "timestamp": "2025-01-05T04:55:00.000Z"
  }
}
```

## üöÄ **–°—Ç–∞—Ç—É—Å:**

- ‚úÖ **–û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–π endpoint** - —Å–æ–∑–¥–∞–Ω
- ‚úÖ **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –¥–æ–±–∞–≤–ª–µ–Ω–∞

## üéØ **–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!**

–¢–µ–ø–µ—Ä—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º! üéâ
